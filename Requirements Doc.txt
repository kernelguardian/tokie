I am looking to build a Raycast extension called “Tokie” that automatically retrieves one-time passcodes (OTPs) from multiple communication sources and exposes them quickly within Raycast. It should work with iMessage/SMS, Gmail (Google Mail), and iCloud Mail. The extension must be reliable, lightweight, and fast to reduce friction during 2FA flows.

Key requirements and behaviors:

Data Sources

iMessage/SMS/Email OTP extraction

Gmail OTP extraction via API

iCloud Mail OTP extraction via API

Each source must be independently enabled or disabled in a configuration screen

OTP Detection Logic

Identify common OTP patterns (e.g., numeric codes, expiration hints, “Your verification code is…”, etc.)

Show most recent valid OTPs first

Display code and source metadata (timestamp + source channel)

Action Behaviors

On selecting an OTP entry, automatically copy it to clipboard

Option to “mark as read” after extraction for Gmail and iCloud

Option to auto-delete the email or message after copying

Behaviors must be configurable via Raycast preferences:

Mark-as-read: ON/OFF

Auto-delete after copy: ON/OFF

Enable/disable per source

User Experience & UI

Minimalistic search-style UI listing recent OTPs

Show small source icon (iMessage, Gmail, iCloud) for clarity

Confirmation or toast notifications when marking/deleting

Security & Permissions

Use proper OAuth / API tokens for Gmail & iCloud

Request minimal local permissions for iMessage

Never store OTPs outside memory; no remote logs

Platform Constraints

Must be implemented as a Raycast extension

Should be optimized for speed and low overhead

Prefer TypeScript-based Raycast extension development

The result should be a convenient, unified OTP retrieval tool that eliminates context switching and speeds up login workflows across different services.

MUST FOLLOW THIS STRICTLY - raycast Template guideline https://developers.raycast.com/information/developer-tools/templates